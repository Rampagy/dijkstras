    impl Hash for Position {
        fn hash<H: Hasher>(&self, state: &mut H) {
            assert!(self.x >= 0);
            assert!(self.y >= 0);
        
            let x: u64 = self.x as u64;
            let y: u64 = self.y as u64;
        
            /* szudzik's pairing function */
            let hash_val: u64 = if x >= y {
                x * x + x + y
            } else {
                x + y * y
            };
        
            state.write_u64(hash_val);
        }
    }